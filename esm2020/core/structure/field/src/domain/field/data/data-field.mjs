import { BaseDataField } from './base-data-field';
export class DataField extends BaseDataField {
    constructor(accessor, dataType, matchers, summariesConfig) {
        super(accessor, dataType, matchers);
        this.summariesEnabled = true;
        this.possibleSummaries = this.assignPossibleSummaries();
        this.assignSummaries(summariesConfig);
    }
    isSummaries(type) {
        if (!this.isSummariesEnabled()) {
            return false;
        }
        return !!(this.summariesTypes & type);
    }
    isSummariesEnabled() {
        return this.summariesEnabled;
    }
    setSummariesEnabled(enabled) {
        this.summariesEnabled = enabled;
    }
    assignSummaries(summariesConfig) {
        if (!!summariesConfig && Object.keys(summariesConfig).length !== 0) {
            if (summariesConfig.enabled) {
                this.summariesEnabled = !!summariesConfig.enabled;
            }
            if (summariesConfig.summariesTypes) {
                this.summariesTypes = 0;
                summariesConfig.summariesTypes.forEach((t) => {
                    this.summariesTypes |= t;
                });
            }
            else {
                this.summariesTypes = this.assignDefaultSummaries();
            }
        }
        else {
            this.summariesTypes = this.assignDefaultSummaries();
        }
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YS1maWVsZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2J1aWxkLWNsaS9wcm9qZWN0cy9uZ3gtZ3JpZC9zcmMvY29yZS9zdHJ1Y3R1cmUvZmllbGQvc3JjL2RvbWFpbi9maWVsZC9kYXRhL2RhdGEtZmllbGQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBT2xELE1BQU0sT0FBZ0IsU0FBYSxTQUFRLGFBQWE7SUFRdkQsWUFBc0IsUUFBYSxFQUM1QixRQUFrQixFQUNsQixRQUF1QixFQUN2QixlQUF1QztRQUM3QyxLQUFLLENBQUMsUUFBUSxFQUNiLFFBQVEsRUFDUixRQUFRLENBQ1IsQ0FBQztRQWJLLHFCQUFnQixHQUFZLElBQUksQ0FBQztRQWV4QyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixFQUFFLENBQUM7UUFFeEQsSUFBSSxDQUFDLGVBQWUsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBZ0JELFdBQVcsQ0FBQyxJQUFtQjtRQUU5QixJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLEVBQUU7WUFDL0IsT0FBTyxLQUFLLENBQUM7U0FDYjtRQUVELE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRUQsa0JBQWtCO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDO0lBQzlCLENBQUM7SUFFRCxtQkFBbUIsQ0FBQyxPQUFnQjtRQUNuQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsT0FBTyxDQUFDO0lBQ2pDLENBQUM7SUFFTyxlQUFlLENBQUMsZUFBc0M7UUFFN0QsSUFBSSxDQUFDLENBQUMsZUFBZSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtZQUVuRSxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUU7Z0JBQzVCLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQzthQUNsRDtZQUVELElBQUksZUFBZSxDQUFDLGNBQWMsRUFBRTtnQkFFbkMsSUFBSSxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUM7Z0JBRXhCLGVBQWUsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBTSxFQUFFLEVBQUU7b0JBQ2pELElBQUksQ0FBQyxjQUFjLElBQUksQ0FBQyxDQUFDO2dCQUMxQixDQUFDLENBQUMsQ0FBQzthQUNIO2lCQUFNO2dCQUNOLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixFQUFFLENBQUM7YUFDcEQ7U0FDRDthQUFNO1lBQ04sSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsc0JBQXNCLEVBQUUsQ0FBQztTQUNwRDtJQUNGLENBQUM7Q0FDRCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFUeXBlIH0gZnJvbSAnLi9kYXRhLXR5cGUnO1xuaW1wb3J0IHsgRmllbGRNYXRjaGVycyB9IGZyb20gJy4uLy4uL21hdGNoZXIvZmllbGQubWF0Y2hlcnMnO1xuaW1wb3J0IHsgQmFzZURhdGFGaWVsZCB9IGZyb20gJy4vYmFzZS1kYXRhLWZpZWxkJztcblxuaW1wb3J0IHsgSXRlbUVudGl0eSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3NvdXJjZS9zcmMvZG9tYWluL2l0ZW0vaXRlbS5lbnRpdHknO1xuaW1wb3J0IHsgU3VtbWFyaWVzVHlwZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL3N1bW1hcmllcy9zcmMvZG9tYWluL3N1bW1hcmllcy50eXBlJztcbmltcG9ydCB7IENvbHVtblN1bW1hcmllc0NvbmZpZyB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL2NvbXBvc2l0aW9uL3NyYy9hcGkvY29sdW1uL2NvbHVtbi1zdW1tYXJpZXMuY29uZmlnJztcblxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGF0YUZpZWxkPFQ+IGV4dGVuZHMgQmFzZURhdGFGaWVsZCB7XG5cblx0cHJpdmF0ZSBzdW1tYXJpZXNFbmFibGVkOiBib29sZWFuID0gdHJ1ZTtcblxuXHRwcml2YXRlIHN1bW1hcmllc1R5cGVzOiBTdW1tYXJpZXNUeXBlO1xuXG5cdHByaXZhdGUgcmVhZG9ubHkgcG9zc2libGVTdW1tYXJpZXM6IFN1bW1hcmllc1R5cGU7XG5cblx0cHJvdGVjdGVkIGNvbnN0cnVjdG9yKGFjY2Vzc29yOiBhbnksXG5cdFx0XHRcdFx0XHQgIGRhdGFUeXBlOiBEYXRhVHlwZSxcblx0XHRcdFx0XHRcdCAgbWF0Y2hlcnM6IEZpZWxkTWF0Y2hlcnMsXG5cdFx0XHRcdFx0XHQgIHN1bW1hcmllc0NvbmZpZz86IENvbHVtblN1bW1hcmllc0NvbmZpZykge1xuXHRcdHN1cGVyKGFjY2Vzc29yLFxuXHRcdFx0ZGF0YVR5cGUsXG5cdFx0XHRtYXRjaGVyc1xuXHRcdCk7XG5cblx0XHR0aGlzLnBvc3NpYmxlU3VtbWFyaWVzID0gdGhpcy5hc3NpZ25Qb3NzaWJsZVN1bW1hcmllcygpO1xuXG5cdFx0dGhpcy5hc3NpZ25TdW1tYXJpZXMoc3VtbWFyaWVzQ29uZmlnKTtcblx0fVxuXG5cdGFic3RyYWN0IGFzc2lnbkRlZmF1bHRTdW1tYXJpZXMoKTogU3VtbWFyaWVzVHlwZTtcblxuXHRhYnN0cmFjdCBhc3NpZ25Qb3NzaWJsZVN1bW1hcmllcygpOiBTdW1tYXJpZXNUeXBlO1xuXG5cdGFic3RyYWN0IHNlYXJjaChpdGVtOiBJdGVtRW50aXR5LCBzZWFyY2hQaHJhc2U6IHN0cmluZyk6IGJvb2xlYW47XG5cblx0YWJzdHJhY3Qgc29ydChvbmU6IFQsIHR3bzogVCk6IG51bWJlcjtcblxuXHRhYnN0cmFjdCBmaWx0ZXIodmFsdWU6IFQsIGZpbHRlclBocmFzZTogVCk6IGJvb2xlYW47XG5cblx0YWJzdHJhY3QgZXF1YWxzKGl0ZW06IEl0ZW1FbnRpdHksIHZhbHVlOiBUKTogYm9vbGVhbjtcblxuXHRhYnN0cmFjdCBnZXREaXNwbGF5VmFsdWUoaXRlbTogVCk6IHN0cmluZztcblxuXHRpc1N1bW1hcmllcyh0eXBlOiBTdW1tYXJpZXNUeXBlKTogYm9vbGVhbiB7XG5cblx0XHRpZiAoIXRoaXMuaXNTdW1tYXJpZXNFbmFibGVkKCkpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gISEodGhpcy5zdW1tYXJpZXNUeXBlcyAmIHR5cGUpO1xuXHR9XG5cblx0aXNTdW1tYXJpZXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuXHRcdHJldHVybiB0aGlzLnN1bW1hcmllc0VuYWJsZWQ7XG5cdH1cblxuXHRzZXRTdW1tYXJpZXNFbmFibGVkKGVuYWJsZWQ6IGJvb2xlYW4pOiB2b2lkIHtcblx0XHR0aGlzLnN1bW1hcmllc0VuYWJsZWQgPSBlbmFibGVkO1xuXHR9XG5cblx0cHJpdmF0ZSBhc3NpZ25TdW1tYXJpZXMoc3VtbWFyaWVzQ29uZmlnOiBDb2x1bW5TdW1tYXJpZXNDb25maWcpOiB2b2lkIHtcblxuXHRcdGlmICghIXN1bW1hcmllc0NvbmZpZyAmJiBPYmplY3Qua2V5cyhzdW1tYXJpZXNDb25maWcpLmxlbmd0aCAhPT0gMCkge1xuXG5cdFx0XHRpZiAoc3VtbWFyaWVzQ29uZmlnLmVuYWJsZWQpIHtcblx0XHRcdFx0dGhpcy5zdW1tYXJpZXNFbmFibGVkID0gISFzdW1tYXJpZXNDb25maWcuZW5hYmxlZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN1bW1hcmllc0NvbmZpZy5zdW1tYXJpZXNUeXBlcykge1xuXG5cdFx0XHRcdHRoaXMuc3VtbWFyaWVzVHlwZXMgPSAwO1xuXG5cdFx0XHRcdHN1bW1hcmllc0NvbmZpZy5zdW1tYXJpZXNUeXBlcy5mb3JFYWNoKCh0OiBhbnkpID0+IHtcblx0XHRcdFx0XHR0aGlzLnN1bW1hcmllc1R5cGVzIHw9IHQ7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zdW1tYXJpZXNUeXBlcyA9IHRoaXMuYXNzaWduRGVmYXVsdFN1bW1hcmllcygpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnN1bW1hcmllc1R5cGVzID0gdGhpcy5hc3NpZ25EZWZhdWx0U3VtbWFyaWVzKCk7XG5cdFx0fVxuXHR9XG59XG4iXX0=
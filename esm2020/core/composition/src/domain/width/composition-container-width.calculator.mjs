export class CompositionContainerWidthCalculator {
    constructor(MIN_COLUMN_WIDTH) {
        this.MIN_COLUMN_WIDTH = MIN_COLUMN_WIDTH;
    }
    calculateMinWidth(columnWidths) {
        const { staticColumns, fluidColumns } = this.segregateColumns(columnWidths);
        // TODO reduce
        let sum = 0;
        staticColumns.forEach((c) => {
            sum += c.getWidth();
        });
        sum += fluidColumns.length * this.MIN_COLUMN_WIDTH;
        return sum;
    }
    segregateColumns(columns) {
        const staticColumns = columns.filter((columnWidth) => columnWidth.isTypeNumber() && columnWidth.getWidth() > this.MIN_COLUMN_WIDTH), fluidColumns = columns.filter((columnWidth) => {
            return columnWidth.isTypeAuto() ||
                columnWidth.isTypePercentage() ||
                (columnWidth.isTypeNumber() && columnWidth.getWidth() <= this.MIN_COLUMN_WIDTH);
        });
        return {
            staticColumns: staticColumns,
            fluidColumns: fluidColumns
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tcG9zaXRpb24tY29udGFpbmVyLXdpZHRoLmNhbGN1bGF0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9idWlsZC1jbGkvcHJvamVjdHMvbmd4LWdyaWQvc3JjL2NvcmUvY29tcG9zaXRpb24vc3JjL2RvbWFpbi93aWR0aC9jb21wb3NpdGlvbi1jb250YWluZXItd2lkdGguY2FsY3VsYXRvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLE9BQU8sbUNBQW1DO0lBRS9DLFlBQTZCLGdCQUF3QjtRQUF4QixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQVE7SUFDckQsQ0FBQztJQUVELGlCQUFpQixDQUFDLFlBQWdDO1FBRWpELE1BQU0sRUFBRSxhQUFhLEVBQUUsWUFBWSxFQUFFLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFlBQVksQ0FBQyxDQUFDO1FBRTVFLGNBQWM7UUFDZCxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixhQUFhLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUU7WUFDM0IsR0FBRyxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQztRQUVILEdBQUcsSUFBSSxZQUFZLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQztRQUVuRCxPQUFPLEdBQUcsQ0FBQztJQUNaLENBQUM7SUFFTyxnQkFBZ0IsQ0FBQyxPQUEyQjtRQUVuRCxNQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBd0IsRUFBRSxFQUFFLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUUsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsRUFDL0ksWUFBWSxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUF3QixFQUFFLEVBQUU7WUFDMUQsT0FBTyxXQUFXLENBQUMsVUFBVSxFQUFFO2dCQUM5QixXQUFXLENBQUMsZ0JBQWdCLEVBQUU7Z0JBQzlCLENBQUMsV0FBVyxDQUFDLFlBQVksRUFBRSxJQUFJLFdBQVcsQ0FBQyxRQUFRLEVBQUUsSUFBSSxJQUFJLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztRQUNsRixDQUFDLENBQUMsQ0FBQztRQUVKLE9BQU87WUFDTixhQUFhLEVBQUUsYUFBYTtZQUM1QixZQUFZLEVBQUUsWUFBWTtTQUMxQixDQUFDO0lBQ0gsQ0FBQztDQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29sdW1uV2lkdGggfSBmcm9tICcuLi9jb2x1bW4vY29sdW1uLXdpZHRoL2NvbHVtbi13aWR0aCc7XG5cbmV4cG9ydCBjbGFzcyBDb21wb3NpdGlvbkNvbnRhaW5lcldpZHRoQ2FsY3VsYXRvciB7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBNSU5fQ09MVU1OX1dJRFRIOiBudW1iZXIpIHtcblx0fVxuXG5cdGNhbGN1bGF0ZU1pbldpZHRoKGNvbHVtbldpZHRoczogQXJyYXk8Q29sdW1uV2lkdGg+KTogbnVtYmVyIHtcblxuXHRcdGNvbnN0IHsgc3RhdGljQ29sdW1ucywgZmx1aWRDb2x1bW5zIH0gPSB0aGlzLnNlZ3JlZ2F0ZUNvbHVtbnMoY29sdW1uV2lkdGhzKTtcblxuXHRcdC8vIFRPRE8gcmVkdWNlXG5cdFx0bGV0IHN1bSA9IDA7XG5cdFx0c3RhdGljQ29sdW1ucy5mb3JFYWNoKChjKSA9PiB7XG5cdFx0XHRzdW0gKz0gYy5nZXRXaWR0aCgpO1xuXHRcdH0pO1xuXG5cdFx0c3VtICs9IGZsdWlkQ29sdW1ucy5sZW5ndGggKiB0aGlzLk1JTl9DT0xVTU5fV0lEVEg7XG5cblx0XHRyZXR1cm4gc3VtO1xuXHR9XG5cblx0cHJpdmF0ZSBzZWdyZWdhdGVDb2x1bW5zKGNvbHVtbnM6IEFycmF5PENvbHVtbldpZHRoPik6IHsgc3RhdGljQ29sdW1uczogQXJyYXk8Q29sdW1uV2lkdGg+LCBmbHVpZENvbHVtbnM6IEFycmF5PENvbHVtbldpZHRoPiB9IHtcblxuXHRcdGNvbnN0IHN0YXRpY0NvbHVtbnMgPSBjb2x1bW5zLmZpbHRlcigoY29sdW1uV2lkdGg6IENvbHVtbldpZHRoKSA9PiBjb2x1bW5XaWR0aC5pc1R5cGVOdW1iZXIoKSAmJiBjb2x1bW5XaWR0aC5nZXRXaWR0aCgpID4gdGhpcy5NSU5fQ09MVU1OX1dJRFRIKSxcblx0XHRcdGZsdWlkQ29sdW1ucyA9IGNvbHVtbnMuZmlsdGVyKChjb2x1bW5XaWR0aDogQ29sdW1uV2lkdGgpID0+IHtcblx0XHRcdFx0cmV0dXJuIGNvbHVtbldpZHRoLmlzVHlwZUF1dG8oKSB8fFxuXHRcdFx0XHRcdGNvbHVtbldpZHRoLmlzVHlwZVBlcmNlbnRhZ2UoKSB8fFxuXHRcdFx0XHRcdChjb2x1bW5XaWR0aC5pc1R5cGVOdW1iZXIoKSAmJiBjb2x1bW5XaWR0aC5nZXRXaWR0aCgpIDw9IHRoaXMuTUlOX0NPTFVNTl9XSURUSCk7XG5cdFx0XHR9KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdGF0aWNDb2x1bW5zOiBzdGF0aWNDb2x1bW5zLFxuXHRcdFx0Zmx1aWRDb2x1bW5zOiBmbHVpZENvbHVtbnNcblx0XHR9O1xuXHR9XG59XG4iXX0=